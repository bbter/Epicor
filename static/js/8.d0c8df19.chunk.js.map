{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","rel","href","tip","History","List"],"mappings":"kVAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KAyDMC,EAlDGC,aAAS,WAAO,IACvBC,EAAgBC,cAAhBD,aAYP,OANAE,qBAAU,WACN,OAAO,WACHF,EAAaG,WAEnB,IAGE,6BACI,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAfK,WACbN,EAAaO,QAeLC,SAAUR,EAAaS,WAAWT,EAAaQ,QAC/CE,WAAW,GAEX,kBAAC,IAAD,CACIC,WAAYX,EAAaY,KACzBC,WACI,SAAAC,GAAI,OAAI,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACzB,6BACI,kBAACtB,EAAD,CAAKuB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE7C,6BACI,4BAAKN,EAAKK,WAAWE,WAEzB,6BACI,uBAAGC,OAAO,SAASC,IAAI,sBAAuBC,KAAMV,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,IAAxH,SAKXpB,EAAaS,WAAWT,EAAaQ,SAElC,6BACI,kBAAC,IAAD,CAAMiB,IAAI,8BC5CvBC,UATf,WACI,OACI,oCACI,uCACA,kBAACC,EAAD","file":"static/js/8.d0c8df19.chunk.js","sourcesContent":["import React,{useEffect} from \"react\";\r\nimport {observer} from \"mobx-react\";\r\nimport {useStores} from \"../stores\";\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport  {List,Spin} from \"antd\";\r\nimport styled from 'styled-components'\r\n\r\nconst Img = styled.img`\r\n  width: 100px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n  border: 1px solid #eee;\r\n`\r\n\r\nconst Component = observer(() => {\r\n    const {HistoryStore} = useStores()\r\n\r\n    const loadMore = () => {\r\n        HistoryStore.find()\r\n    }\r\n\r\n    useEffect(()=>{\r\n        return () => {\r\n            HistoryStore.reset()\r\n        }\r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n            <InfiniteScroll\r\n                initialLoad={true}\r\n                pageStart={0}\r\n                loadMore={loadMore}\r\n                hasMore={!HistoryStore.isLoading&&HistoryStore.hasMore}\r\n                useWindow={true}\r\n            >\r\n                <List\r\n                    dataSource={HistoryStore.list}\r\n                    renderItem={\r\n                        item => <List.Item key={item.id}>\r\n                            <div>\r\n                                <Img src={item.attributes.url.attributes.url}/>\r\n                            </div>\r\n                            <div>\r\n                                <h5>{item.attributes.filename}</h5>\r\n                            </div>\r\n                            <div>\r\n                                <a target=\"_blank\" rel=\"noopener noreferrer\"  href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url} </a>\r\n                            </div>\r\n                        </List.Item>\r\n                        }\r\n                >\r\n                    {HistoryStore.isLoading&&HistoryStore.hasMore && (\r\n\r\n                        <div>\r\n                            <Spin tip='加载中'/>\r\n                        </div>\r\n                    )}\r\n                </List>\r\n            </InfiniteScroll>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Component;","import React from \"react\";\r\nimport List from '../components/List'\r\nfunction History() {\r\n    return (\r\n        <>\r\n            <h1>History</h1>\r\n            <List/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default History\r\n"],"sourceRoot":""}